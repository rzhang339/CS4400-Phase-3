<!DOCTYPE html>
<html lang="en">

<html>
	<head>
		<title>Visitor Registration</title>
		<center><h1>New Visitor Registration</h1></center>
	</head>


	<body>
		<center><form>
		<p>Email*: <input type="text" id="emailInput"></p>
		<p>Username*: <input type="text" id="username"></p>
		<p>Password*: <input type="password" id="passwordInput"></p>
		<p>Confirm Password*: <input type="password" id="confirmPasswordInput"></p>
		<p><button id="registerVisitor" type="button">Registor Visitor</button>
		<button id="cancel" type="button">Cancel</button></p>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript">		</script>
		<script type="text/javascript">
			document.getElementById('cancel').onclick = function() {
				location.href = "/";
			};
			document.getElementById('registerVisitor').onclick = function() {
				var email = document.getElementById('emailInput').value;
				var username = document.getElementById('username').value;
				var password = document.getElementById('passwordInput').value;
				var confirmPassword = document.getElementById('confirmPasswordInput').value;
				if (email == "" || username == "" || password == "" || confirmPassword == "") {
					alert("Please fill out every field");
				} else if (password != confirmPassword) {
					alert("Passwords do not match");
				} else {
					var info = {
						email: email,
						password: password,
						username: username,
						type: "visitor"
					};
					$.ajax({
							type: "POST",
							url: "http://localhost:5000/register",
					        data: JSON.stringify(info),
					        contentType: "application/json;charset=utf-8",
					        dataType: "text",
					        success: function(text) {
					        	location.href = "/";
					        }
					    });
					console.log("register");
				}
			}
		</script>
		</form></center>

		
	</body>
</html>